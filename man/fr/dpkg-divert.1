.\" Automatically generated by Pod::Man 4.11 (Pod::Simple 3.35)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "dpkg-divert 1"
.TH dpkg-divert 1 "2020-08-02" "1.20.5" "dpkg suite"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NOM"
.IX Header "NOM"
dpkg-divert \- Remplacer la version d'un fichier contenu dans un paquet.
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
\&\fBdpkg-divert\fR [\fIoption\fR...] \fIcommande\fR
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBdpkg-divert\fR sert \(`a cr\('eer et \(`a mettre \(`a jour la liste des d\('etournements.
.PP
Le \fId\('etournement\fR de fichier est un moyen d'obliger \fBdpkg\fR(1) \(`a installer
un fichier non pas dans l'emplacement pr\('evu mais dans un autre. Les scripts
des paquets Debian se servent du d\('etournement pour d\('eplacer les fichiers qui
cr\('eent des conflits. Les administrateurs s'en servent, lors de
l'installation d'une version plus r\('ecente d'un paquet, pour remplacer les
fichiers de configuration de certains paquets ou bien \(`a chaque fois que des
fichiers (qui ne sont pas des \(Fo conffiles \(Fc) doivent \(^etre pr\('eserv\('es par
\&\fBdpkg\fR.
.SH "COMMANDES"
.IX Header "COMMANDES"
.IP "[\fB\-\-add\fR] \fIfichier\fR" 4
.IX Item "[--add] fichier"
Ajoute un d\('etournement pour \fIfichier\fR. Le fichier n'est pas renomm\('e
actuellement, voir \fB\-\-rename\fR.
.IP "\fB\-\-remove\fR \fIfichier\fR" 4
.IX Item "--remove fichier"
Supprime un d\('etournement pour \fIfichier\fR. Le fichier n'est pas renomm\('e
actuellement, voir \fB\-\-rename\fR.
.IP "\fB\-\-list\fR \fImotif-global\fR" 4
.IX Item "--list motif-global"
Liste les d\('etournements qui correspondent \(`a \fImotif-global\fR.
.IP "\fB\-\-listpackage\fR \fIfichier\fR" 4
.IX Item "--listpackage fichier"
Affiche le nom du paquet qui d\('etourne \fIfichier\fR (depuis
dpkg 1.15.0). Affiche \s-1LOCAL\s0 si \fIfichier\fR est d\('etourn\('e localement et
n'affiche rien si \fIfichier\fR n'est pas d\('etourn\('e.
.IP "\fB\-\-truename\fR \fIfichier\fR" 4
.IX Item "--truename fichier"
Affiche le vrai nom d'un fichier d\('etourn\('e.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-\-admindir\fR \fIr\('epertoire\fR" 4
.IX Item "--admindir r\('epertoire"
D\('efinit le r\('epertoire d'administration comme \fIr\('epertoire\fR. Par d\('efaut c'est
\(Fo \fI\f(CI%ADMINDIR\fI%\fR \(Fc.
.IP "\fB\-\-instdir\fR \fIr\('epertoire\fR" 4
.IX Item "--instdir r\('epertoire"
D\('efinit le r\('epertoire d'installation qui d\('esigne le r\('epertoire o\(`u les
paquets sont install\('es (depuis dpkg 1.19.2). Par d\('efaut c'est \(Fo \fI/\fR \(Fc.
.IP "\fB\-\-root\fR \fIr\('epertoire\fR" 4
.IX Item "--root r\('epertoire"
D\('efinit le r\('epertoire root \(`a \fBdirectory\fR, ce qui d\('efinit le r\('epertoire
d'installation \(`a \(Fo \fIr\('epertoire\fR \(Fc et le r\('epertoire d'administration \(`a
\(Fo \fIr\('epertoire\fR\fB\f(CB%ADMINDIR\fB%\fR \(Fc (depuis dpkg 1.19.2).
.IP "\fB\-\-divert\fR \fId\('etourner\-dans\fR" 4
.IX Item "--divert d\('etourner-dans"
\&\fId\('etourner\-dans\fR est l'emplacement vers lequel les versions de \fIfichier\fR,
tel qu'il est donn\('e par d'autres paquets, seront d\('etourn\('ees.
.IP "\fB\-\-local\fR" 4
.IX Item "--local"
Indique que toutes les versions de ce fichier sont d\('etourn\('ees. Cela signifie
qu'il n'y a pas d'exception et quel que soit le paquet install\('e, ce fichier
sera d\('etourn\('e. Un administrateur peut par exemple installer une version
modifi\('ee localement.
.IP "\fB\-\-package\fR \fIpaquet\fR" 4
.IX Item "--package paquet"
\&\fIpaquet\fR est le nom du paquet dont la copie de \fIfichier\fR ne sera pas
d\('etourn\('ee. Autrement dit, \fIfichier\fR sera d\('etourn\('e sauf s'il appartient \(`a
\&\fIpaquet\fR.
.IP "\fB\-\-quiet\fR" 4
.IX Item "--quiet"
Mode silencieux, pas de bavardage.
.IP "\fB\-\-rename\fR" 4
.IX Item "--rename"
Met en fait le fichier de c\(^ot\('e. Quand le fichier de destination existe,
\&\fBdpkg-divert\fR interrompt l'op\('eration. C'est le comportement courant utilis\('e
pour les d\('etournements de fichiers \(`a partir de l'ensemble de paquets
non\-\fBEssential\fR (voir \fB\-\-no\-rename\fR pour plus de d\('etails).
.IP "\fB\-\-no\-rename\fR" 4
.IX Item "--no-rename"
Indique que le fichier ne doit pas \(^etre renomm\('e lors de l'ajout ou du
retrait d'un d\('etournement de la base de donn\('ees (depuis dpkg 1.19.1). Cela
est destin\('e au d\('etournement de fichiers de l'ensemble de paquets
\&\fBessential\fR, o\(`u la disparition temporaire du fichier original n'est pas
acceptable, car il rend non fonctionnel le syst\(`eme. C'est le comportement
par d\('efaut, mais cela changera durant le cycle de dpkg 1.20.x.
.IP "\fB\-\-test\fR" 4
.IX Item "--test"
Mode de test, ne modifie rien r\('eellement, montre seulement.
.IP "\fB\-?\fR, \fB\-\-help\fR" 4
.IX Item "-?, --help"
Affiche un message d'aide puis quitte.
.IP "\fB\-\-version\fR" 4
.IX Item "--version"
Affiche le num\('ero de version puis quitte.
.SH "CODE DE SORTIE"
.IX Header "CODE DE SORTIE"
.IP "\fB0\fR" 4
.IX Item "0"
L'action demand\('ee s'est correctement d\('eroul\('ee.
.IP "\fB2\fR" 4
.IX Item "2"
Erreur fatale ou irr\('ecup\('erable due \(`a l'utilisation d'une ligne de commande
non valable, ou interactions avec le syst\(`eme, telles que des acc\(`es \(`a la base
de donn\('ees, des allocations de m\('emoire, etc.
.SH "ENVIRONNEMENT"
.IX Header "ENVIRONNEMENT"
.IP "\fB\s-1DPKG_ROOT\s0\fR" 4
.IX Item "DPKG_ROOT"
Si cette variable est positionn\('ee et que les options \fB\-\-admindir\fR ou
\&\fB\-\-root\fR ne sont pas pr\('ecis\('ees, ce r\('epertoire sera utilis\('e comme r\('epertoire
racine du syst\(`eme de fichiers (depuis dpkg 1.19.2).
.IP "\fB\s-1DPKG_ADMINDIR\s0\fR" 4
.IX Item "DPKG_ADMINDIR"
Si cette variable est positionn\('ee et que les options \fB\-\-admindir\fR ou
\&\fB\-\-root\fR ne sont pas pr\('ecis\('ees, ce r\('epertoire sera utilis\('e comme r\('epertoire
de donn\('ees pour \fBdpkg\fR.
.IP "\fB\s-1DPKG_MAINTSCRIPT_PACKAGE\s0\fR" 4
.IX Item "DPKG_MAINTSCRIPT_PACKAGE"
Si cette variable est positionn\('ee et que les options \fB\-\-local\fR et
\&\fB\-\-package\fR ne le sont pas, \fBdpkg-divert\fR en utilisera la valeur comme nom
de paquet.
.IP "\fB\s-1DPKG_COLORS\s0\fR" 4
.IX Item "DPKG_COLORS"
D\('efinit le mode de couleur (depuis dpkg 1.18.5). Les valeurs actuellement
accept\('ees sont \fBauto\fR (par d\('efaut), \fBalways\fR et \fBnever\fR.
.SH "FICHIERS"
.IX Header "FICHIERS"
.IP "\fI\f(CI%ADMINDIR\fI%/diversions\fR" 4
.IX Item "/var/lib/dpkg/diversions"
Ce fichier contient la liste des d\('etournements en \(oeuvre sur le syst\(`eme. Il
se trouve dans le r\('epertoire d'administration de \fBdpkg\fR, avec d'autres
fichiers importants comme \fIstatus\fR ou \fIavailable\fR.
.Sp
\&\fBNote:\fR \fBdpkg-divert\fR preserves the old copy of this file, with extension
\&\fI\-old\fR, before replacing it with the new one.
.SH "NOTES"
.IX Header "NOTES"
Pour l'ajout, le d\('efaut est \fB\-\-local\fR et \fB\-\-divert\fR
\&\fIoriginal\fR\fB.distrib\fR. Pour la suppression, \fB\-\-package\fR ou \fB\-\-local\fR et
\&\fB\-\-divert\fR doivent correspondre quand ils sont pr\('ecis\('es.
.PP
On ne peut pas d\('etourner des r\('epertoires avec \fBdpkg-divert\fR.
.PP
Il faut faire attention quand une biblioth\(`eque partag\('ee est
d\('etourn\('ee. \fBldconfig\fR(8) cr\('ee un lien symbolique \(`a partir du champ
\&\s-1DT_SONAME\s0 embarqu\('e dans la biblioth\(`eque. \fBldconfig\fR ne conna\(^it pas les
d\('etournements (seul \fBdpkg\fR le fait), et si une biblioth\(`eque d\('etourn\('ee
poss\(`ede le m\(^eme \s-1SONAME\s0 que la biblioth\(`eque non d\('etourn\('ee, le lien symbolique
peut pointer en fin de compte sur la biblioth\(`eque d\('etourn\('ee.
.SH "EXEMPLES"
.IX Header "EXEMPLES"
Pour d\('etourner toutes les copies de \fI/usr/bin/example\fR vers
\&\fI/usr/bin/example.foo\fR, c'est\-\(`a\-dire demander aux paquets qui fournissent
\&\fI/usr/bin/example\fR de l'installer dans \fI/usr/bin/example.foo\fR, en
effectuant le changement de nom si n\('ecessaire :
.PP
.Vb 1
\& dpkg\-divert \-\-divert /usr/bin/example.foo \-\-rename /usr/bin/example
.Ve
.PP
Pour supprimer ce d\('etournement :
.PP
.Vb 1
\& dpkg\-divert \-\-rename \-\-remove /usr/bin/example
.Ve
.PP
Pour d\('etourner n'importe quel paquet qui veut installer \fI/usr/bin/example\fR
dans \fI/usr/bin/example.foo\fR, sauf votre propre paquet \fIwibble\fR :
.PP
.Vb 2
\& dpkg\-divert \-\-package wibble \-\-divert /usr/bin/example.foo \e
\&    \-\-rename /usr/bin/example
.Ve
.PP
Pour supprimer ce d\('etournement :
.PP
.Vb 1
\& dpkg\-divert \-\-package wibble \-\-rename \-\-remove /usr/bin/example
.Ve
.SH "VOIR AUSSI"
.IX Header "VOIR AUSSI"
\&\fBdpkg\fR(1).
.SH "TRADUCTION"
.IX Header "TRADUCTION"
Ariel \s-1VARDI\s0 <ariel.vardi@freesbee.fr>, 2002.
Philippe Batailler, 2006.
Nicolas Fran\(,cois, 2006.
Veuillez signaler toute erreur \(`a <debian\-l10n\-french@lists.debian.org>.
