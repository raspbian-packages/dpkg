
        *****************************************************
        *           GENERATED FILE, DO NOT EDIT             *
        * THIS IS NO SOURCE FILE, BUT RESULT OF COMPILATION *
        *****************************************************

This file was generated by po4a(7). Do not store it (in VCS, for example),
but store the PO file used as source file by po4a-translate.

In fact, consider this as a binary, and the PO file as a regular .c file:
If the PO get lost, keeping this translation up-to-date will be harder.

=encoding UTF-8

=head1 NOM

dpkg - Gestionnaire de paquet pour Debian

=head1 SYNOPSIS

B<dpkg> [I<option>...] I<action>

=head1 AVERTISSEMENT

Ce manuel est destiné aux utilisateurs qui souhaitent aller au-delà de la commande B<dpkg --help> pour la compréhension des options de la ligne de commande et des états des paquets.

Les responsables de paquet qui veulent comprendre comment B<dpkg> installe leur paquet I<ne doivent pas> l'utiliser. Les descriptions concernant l'installation ou la désinstallation des paquets sont très insuffisantes.

=head1 DESCRIPTION

B<dpkg> est un outil de niveau intermédiaire pour l'installation, la création, la suppression et la gestion des paquets Debian. La principale interface à B<dpkg> et la plus agréable pour l'utilisateur est, en ligne de commande (CLI) B<apt>(8) et comme environnement en mode texte (TUI), B<aptitude>(8). B<dpkg> lui-même est entièrement contrôlé par des paramètres sur la ligne de commande. Une commande comporte exactement une action et zéro ou plusieurs options. Le paramètre S<« action »> dit ce que B<dpkg> doit faire et les options modifient l'action d'une manière ou d'une autre.

B<dpkg> peut également être utilisé comme interface pour B<dpkg-deb>(1) et B<dpkg-query>(1). La liste des actions gérées est indiquée dans la section B<ACTIONS>. Si cette section est présente, B<dpkg> n'exécute que B<dpkg-deb> ou B<dpkg-query> avec les paramètres qui lui sont passés, mais aucune action spécifique ne leur est communiquée. Pour utiliser cela, il est nécessaire d'appeler le programme directement.

=head1 RENSEIGNEMENTS SUR LES PAQUETS

B<dpkg> conserve des renseignements utiles sur les paquets disponibles. Cette information est divisée en trois S<classes :> les états, les états de la sélection et les drapeaux. La modification de ces valeurs est principalement dévolue à B<dselect>.

=head2 États du S<paquet :>

=over 

=item B<not-installed>

Le paquet n'est pas installé sur le système.

=item B<config-files>

Seuls les fichiers de configuration du paquet ou le script B<postrm> et les données nécessaires à la suppression du paquet existent sur le système.

=item B<half-installed>

L'installation du paquet a commencé mais, pour une raison quelconque, ne s'est pas terminée.

=item B<unpacked>

Le paquet est dépaqueté mais n'est pas configuré.

=item B<half-configured>

Le paquet est dépaqueté et la configuration a commencé mais, pour une quelconque raison, ne s'est pas terminée.

=item B<triggers-awaited>

Le paquet attend l'exécution d'une action différée qui est à la charge d'un autre paquet.

=item B<triggers-pending>

Une action différée de ce paquet a été activée, il reste à l'exécuter.

=item B<installed>

Le paquet est correctement dépaqueté et configuré.

=back

=head2 États de sélection des paquets

=over 

=item B<install>

Le paquet est sélectionné pour être installé.

=item B<hold>

Un paquet marqué B<hold> est conservé dans la même version, c'est-à-dire, qu'il ne pourra fait l'objet de nouvelles installations automatiques, ni mise à niveau, ni retrait, à moins que ces actions ne soient requises de façon explicite ou ne soient autorisées avec l'option B<--force-hold>.

=item B<deinstall>

Le paquet est sélectionné pour être désinstallé (c'est-à-dire qu'on veut supprimer tous les fichiers à l'exception des fichiers de configuration).

=item B<purge>

Le paquet est sélectionné pour être purgé (c'est-à-dire qu'on veut tout supprimer dans les répertoires du système, même les fichiers de configuration).

=item B<unknown>

La sélection de paquets est inconnue. Un paquet qui est aussi dans un état B<not-installed> et avec un drapeau B<ok> sera oublié dans le prochain enregistrement de la base de données.

=back

=head2 Drapeaux du S<paquet :>

=over 

=item B<ok>

Un paquet marqué B<ok> est dans un état connu, mais pourrait nécessiter un traitement supplémentaire.

=item B<reinstreq>

Un paquet marqué B<reinstreq> est défectueux et demande une réinstallation. B<dpkg> ne peut supprimer ces paquets, à moins qu'il ne soit lancé avec l'option de forçage B<--force-remove-reinstreq>.

=back

=head1 ACTIONS

=over 

=item B<-i>, B<--install> I<fichier-paquet>...

Installe le paquet. Si l'option B<--recursive> ou B<-R> est utilisée, I<fichier-paquet> doit alors être un répertoire.

L'installation comporte les étapes S<suivantes :>

B<1.> Extraction des fichiers de contrôle du nouveau paquet.

B<2.> Quand une ancienne version du même paquet est déjà installée, exécution du script I<prerm> de l'ancien paquet.

B<3.> Lancement du script I<preinst>, s'il est fourni par le paquet.

B<4.> Dépaquetage des nouveaux fichiers et, en même temps, sauvegarde des anciens de manière à pouvoir les restaurer si quelque chose tourne mal.

B<5.> Quand une ancienne version du même paquet est déjà installée, exécution du script I<postrm> de l'ancien paquet. Il faut remarquer que ce script est exécuté après le script I<preinst> du nouveau paquet, parce que les nouveaux fichiers sont écrits dans le même temps que les anciens sont supprimés.

B<6.> Configuration du paquet. Voyez l'action B<--configure> pour savoir comment cela se passe.

=item B<--unpack> I<fichier-paquet>...

Dépaquette le paquet mais ne configure rien. Si l'option B<--recursive> ou B<-R> est utilisée, I<fichier-paquet> doit alors indiquer un répertoire.

Cela traitera une action différée pour B<Pre-Depends> à moins que B<--no-triggers> a été spécifié.

=item B<--configure> I<paquet>...|B<-a>|B<--pending>

Configuration d'un paquet dépaqueté mais non encore configuré. Si l'option B<-a> ou B<--pending> est utilisée au lieu de I<paquet>, tous les paquets dépaquetés mais non configurés sont configurés.

Pour reconfigurer un paquet qui l'a déjà été, vous devriez plutôt utiliser la commande B<dpkg-reconfigure>(8).

La configuration comporte les étapes S<suivantes :>

B<1.> Dépaquetage des fichiers de configuration, et dans le même temps sauvegarde des anciens fichiers de configuration, de manière à pouvoir les restaurer si quelque chose se passe mal.

B<2.> Exécution du script B<postinst>, s'il est fourni par le paquet.

Cela traitera une action différée à moins que B<--no-triggers> a été spécifié.

=item B<--triggers-only> I<paquet> ...|B<-a> | B<--pending>

N'exécute que les actions différées (depuis S<dpkg 1.14.17).> Toutes les actions différées en attente seront traitées. Si des noms de paquets sont fournis, les actions différées de ces paquets seront traitées, une fois chacune lorsque nécessaire. L'utilisation de cette option peut laisser des paquets dans les états incorrects de B<triggers-awaited> et de B<triggers-pending>. Cela peut être corrigé plus tard en S<exécutant :> B<dpkg --configure --pending>.

=item B<-r>, B<--remove> I<paquet>...|B<-a>|B<--pending>

Supprimer un paquet installé. Cela supprime tout à l'exception des fichiers de configuration et les autres données nettoyées par le script I<postrm>, ce qui évite d'avoir à reconfigurer le paquet s'il était réinstallé par la suite (ces fichiers sont les fichiers de configuration listés dans le fichier de contrôle I<DEBIAN/conffiles>). S'il n'y a pas de fichier de contrôle I<DEBIAN/conffiles> ni script I<DEBIAN/postrm>, cette commande est, équivalente à l'appel de B<--purge>. Si B<-a> ou B<--pending> est indiqué à la place d'un nom de paquet, alors tous les paquets dépaquetés mais marqués pour suppression dans le fichier I<%ADMINDIR%/status> seront supprimés.

La suppression d'un paquet comporte les étapes S<suivantes :>

B<1.> Lancement du script I<prerm>

B<2.> Suppression des fichiers installés

B<3.> Lancement du script I<postrm>

Cela traitera une action différée à moins que B<--no-triggers> a été spécifié.

=item B<-P>, B<--purge> I<paquet>...|B<-a>|B<--pending>

Purger un paquet installé ou déjà supprimé. L'action supprime tout, y compris les fichiers de configuration et tout le reste nettoyé de I<postrm>. Si B<-a> ou B<--pending> est indiqué à la place d'un nom de paquet, tous les paquets dépaquetés ou supprimés mais marqués dans le fichier I<%ADMINDIR%/status> comme devant être purgés seront purgés.

S<B<Note> :> certains fichiers de configuration peuvent être inconnus de B<dpkg>, car ils sont créés et gérés séparément par le biais de scripts de configuration. En ce cas, B<dpkg> ne les supprimera pas lui-même et le script I<postrm> du paquet devra s'en charger durant l'opération de purge. Cela ne s'applique bien entendu qu'aux fichiers situés dans les répertoires systèmes et non aux fichiers de configuration créés dans les répertoires S<« home »> des utilisateurs.

La suppression d'un paquet comporte les étapes S<suivantes :>

B<1.> Supprime le paquet s'il n'est pas déjà supprimé. Voir B<--remove> pour plus de détails sur la façon dont cela est fait.

B<2.> Exécuter le script I<postrm>.

Cela traitera une action différée à moins que B<--no-triggers> a été spécifié.

=item B<-V>, B<--verify> I<nom-du-paquet>...

Vérifie l'intégrité du I<nom-du-paquet> ou de tous les paquets, si omis, en comparant l'information des fichiers installés par un paquet avec l'information des métadonnées des fichiers stockée dans la base de données de B<dpkg> (depuis S<dpkg 1.17.2).> L'origine de l'information des métadonnées des fichiers dans la base de données, ce sont les paquets binaires eux-mêmes. Ces métadonnées sont collectées au moment du dépaquetage des paquets durant le processus d'installation.

Actuellement la seule vérification fonctionnelle effectuée est une comparaison des sommes de contrôle MD5 du contenu des fichier par rapport aux valeurs stockées dans la base de données des fichiers. La vérification n'a lieu que si la base de données contient les informations nécessaires. Pour vérifier si des métadonnées manquent dans la base de données, la commande B<--audit> peut être employée.

On peut choisir le format de sortie avec l'option B<--verify-format>, par défaut c'est le format B<rpm>, mais cela pourrait changer dans le futur, et selon le format que les programmes analysant cette sortie de commande pourraient explicitement attendre.

=item B<-C>, B<--audit> I<nom-du-paquet>...

Effectue une vérification du bon état et de consistance de la base de données sur le I<nom-du-paquet> ou sur tous les paquets si omis (vérification par paquet depuis S<dpkg 1.17.10).> Par exemple, recherche les paquets qui n'ont été que partiellement installés sur le système ou qui ont des données de contrôle ou des fichiers manquants, incorrects ou obsolètes. B<dpkg> suggère une manière de les corriger.

=item B<--update-avail> [I<fichier-Paquets>]

=item B<--merge-avail> [I<fichier-Paquets>]

Met à jour l'information de B<dpkg> et de B<dselect> sur les paquets disponibles. L'action B<--merge-avail> combine les informations anciennes avec celles qui proviennent du fichier I<fichier-Packages>. L'action B<--update-avail> remplace les informations anciennes par celles qui proviennent du fichier I<fichier-Packages>. Le fichier I<fichier-Packages> distribué avec Debian est appelé simplement S<« I<Packages> ».> Si le paramètre I<fichier-Packages> est manquant ou est nommé S<« B<-> »,> alors, il sera lu à partir de l'entrée standard (depuis S<dpkg 1.17.7).> B<dpkg> garde son propre enregistrement des paquets disponibles dans I<%ADMINDIR%/available>.

Une simple commande permettant de récupérer et mettre à jour le fichier I<available> est B<dselect update>. Veuillez noter que ce fichier est à peu près inutile si vous n'utilisez pas B<dselect> mais une interface basée sur APT. APT contient en effet son propre mécanisme pour suivre les paquets disponibles.

=item B<-A>, B<--record-avail> I<fichier-paquet>...

Met à jour l'information de B<dpkg> et de B<dselect> sur les paquets disponibles avec les informations qui proviennent de I<fichier-paquet>. Si l'option B<--recursive> ou B<-R> est utilisée, I<fichier-paquet> doit indiquer un répertoire.

=item B<--forget-old-unavail>

Désormais B<obsolète> et sans effet, car B<dpkg> oublie automatiquement les paquets désinstallés qui ne sont pas disponibles depuis (dpkg 1.15.4), mais seulement ceux qui ne contiennent pas d'informations pour l'utilisateur comme les sélections de paquets.

=item B<--clear-avail>

Efface les renseignements existants sur les paquets disponibles.

=item B<--get-selections> [I<motif-de-nom-de-paquet>...]

Obtient la liste des sélections de paquets et l'envoie sur la sortie standard. Sans un motif, les paquets non installés (c'est-à-dire ceux qui ont été précédemment purgés) ne seront pas affichés.

=item B<--set-selections>

Modifie la liste des sélections des paquets en lisant un fichier sur l'entrée standard. Le format de ce fichier doit être de la forme S<« I<paquet>> S<I<état> »,> où état vaut B<install>, B<hold>, B<deinstall> ou B<purge>. Les lignes vides ou les lignes de commentaires débutant par S<« B<#> »> sont autorisées.

Le fichier I<available> doit être à jour pour que cette commande soit utile, autrement des paquets inconnus seront ignorés avec un avertissement. Veuillez consultez les commandes B<--update-avail> et B<--merge-avail> pour plus d'informations.

=item B<--clear-selections>

Met l'état de chaque paquet non essentiel à S<« deinstall »> (depuis dpkg 1.13.18). Il faut utiliser cette option juste avant B<--set-selections>, pour désinstaller les paquets qui ne sont pas affichés par B<--set-selections>.

=item B<--yet-to-unpack>

Recherche les paquets qui ont été sélectionnés pour l'installation, mais qui, pour une raison quelconque, ne sont pas encore installés.

S<B<Note> :> cette commande utilise à la fois le fichier disponible et les sélections de paquets.

=item B<--predep-package>

Affiche un fichier unique qui est la cible d'une ou plusieurs pré-dépendances correspondantes et n'a lui-même pas de pré-dépendances insatisfaites.

Si un tel paquet est présent, l'affiche comme entrée du fichier Packages, et il peut être manipulé comme il se doit.

S<B<Note> :> cette commande utilise à la fois le fichier disponible et les sélections de paquets.

Renvoie B<0> si un paquet est affiché, B<1> quand il n'y a pas de paquet adéquat disponible et B<2> en cas d'erreur.

=item B<--add-architecture> I<architecture>

Ajoute I<architecture> à la liste d'architectures pour lesquelles les paquets peuvent être installés sans utiliser B<--force-architecture> (depuis dpkg 1.16.2). L'architecture pour laquelle B<dpkg> est compilé (c'est-à-dire ce qu'affiche B<--print-architecture>) est toujours incluse dans cette liste.

=item B<--remove-architecture> I<architecture>

Retire I<architecture> de la liste d'architectures pour lesquelles les paquets peuvent être installés sans utiliser B<--force-architecture> (depuis dpkg 1.16.2). Si cette architecture est actuellement utilisée dans la base de données, cette opération sera rejetée, sauf si B<--force-architecture> est utilisé. L'architecture pour laquelle B<dpkg> est compilé (c'est-à-dire ce qu'affiche B<--print-architecture>) ne peut jamais être retirée de cette liste.

=item B<--print-architecture>

Affiche l'architecture des paquets installés (par exemple, S<« i386 »).>

=item B<--print-foreign-architectures>

Affiche la liste, à raison d'une par ligne, des architectures supplémentaires pour lesquelles B<dpkg> est autorisé à installer des paquets (depuis S<dpkg 1.16.2).>

=item B<--assert-help>

Donne des renseignements sur les options B<--assert->I<fonction> (depuis S<dpkg 1.21.0).>

=item B<--assert=>I<fonction>

Déclare que B<dpkg> prend en charge la fonction requise. Renvoie B<0> si la fonction est complètement prise en charge, B<1> si la fonction est reconnue mais que B<dpkg> ne peut pas encore fournir sa prise en charge, et B<2> si la fonction est inconnue. La liste actuelle des fonctions déclarables S<est :>

=over 

=item B<support-predepends>

Prend en charge le champ B<Pre-Depends> (depuis S<dpkg 1.1.0).>

=item B<working-epoch>

Prend en charge les S<« epochs »> dans les chaînes de version (depuis S<dpkg 1.4.0.7).>

=item B<longs-noms-de-fichier>

Prend en charge les longs noms de fichier dans les archives B<deb>(5) (depuis dpkg 1.4.1.17).

=item B<multi-conrep>

Prend en charge plusieurs B<Conflicts> et B<Replaces> (depuis S<dpkg 1.4.1.19).>

=item B<multi-arch>

Prend en charge les champs et les sémantiques multi-architectures (depuis S<dpkg 1.16.2).>

=item B<versioned-provides>

Prend en charge les B<Provides> versionnés (depuis S<dpkg 1.17.11).>

=item B<protected-field>

Prend en charge le champ B<Protected> (depuis S<dpkg 1.20.1).>

=back

=item B<--validate->I<chaîne> I<quelque-chose>

Valide que la I<chaîne> I<quelque-chose> a une syntaxe correcte (depuis S<dpkg 1.18.16).> Renvoie B<0> si la I<chaîne> est valable, B<1> si la I<chaîne> n'est pas valable mais pourrait être accepté dans des contextes tolérants, et B<2> si la chaîne n'est pas valable. La liste actuelle des I<quelque-chose>s acceptables S<est :>

=over 

=item B<pkgname>

Valide le nom de paquet donné (depuis S<dpkg 1.18.16).>

=item B<trigname>

Valide le nom d'action différée donné (depuis S<dpkg 1.18.16).>

=item B<archname>

Valide le nom d'architecture donné (depuis S<dpkg 1.18.16).>

=item B<version>

Valide la version donnée (depuis S<dpkg 1.18.16).>

=back

=item B<--compare-versions> I<ver1> I<op> I<ver2>

Compare des numéros de version, où I<op> est un opérateur binaire. B<dpkg> renvoie S<« true »> (B<0>) si la condition spécifiée est vérifiée, et renvoie S<« false »> (B<1>) dans le cas contraire. Il y a deux groupes d'opérateurs ; ils diffèrent par leur façon de traiter l'absence de I<ver1> ou de I<ver2>. Pour les opérateurs suivants, B<lt le eq ne ge gt>, l'absence d'une version est considérée comme inférieure à toute version ; pour les opérateurs B<lt-nl le-nl ge-nl gt-nl>, l'absence d'une version est considérée comme supérieure à toute version. Les opérateurs B<E<lt> E<lt>E<lt> E<lt>= = E<gt>= E<gt>E<gt> E<gt>> ne sont fournis que pour la compatibilité avec la syntaxe du fichier de contrôle. Les opérateurs B<E<lt>> et B<E<gt>> sont obsolètes et ne devraient B<pas> être utilisés du fait d'une sémantique pas claire. Comme illustration, B<0.1E<lt> 0.1> est évaluée à vrai.

=begin désactivé

=item B<--command-fd> I<n>

Accepte une série de commandes sur le descripteur de fichier d'entrée I<n>.

S<B<Note :>> les options supplémentaires définies en ligne de commande, et au moyen de ce descripteur de fichier, ne sont pas remises à zéro pour les commandes suivantes exécutées durant la même exécution.

=end désactivé

=item B<-?>, B<--help>

Affiche un court message d'aide.

=item B<--force-help>

Donne des renseignements sur les options B<--force->I<quelque-chose>.

=item B<-Dh>, B<--debug=help>

Donne des renseignements sur les options de débogage.

=item B<--version>

Affiche la version de B<dpkg>.

Lorsque c'est utilisé avec B<--robot>, la sortie est le numéro de version du programme un format numérique à points de séparation, sans saut de ligne.

=item B<dpkg-deb actions>

Voir B<dpkg-deb>(1) pour des renseignements supplémentaires sur les actions suivantes et d'autres actions et options qui ne sont pas exposées par l'interface de B<dpkg>.

=over 

=item B<-b>, B<--build> I<répertoire> [I<archive>|I<répertoire>]

Construire un paquet deb.

=item B<-c>, B<--contents> I<archive>

Lister le contenu d'un paquet deb.

=item B<-e>, B<--control> I<archive> [I<répertoire>]

Extraire les informations de contrôle d'un paquet.

=item B<-x>, B<--extract> I<archive> I<répertoire>

Extraire les fichiers contenus dans un paquet.

=item B<-X>, B<--vextract> I<archive> I<répertoire>

Extraire et afficher les noms de fichiers contenus dans un paquet.

=item B<-f>, B<--field> I<archive> [I<champ-de-contrôle>...]

Afficher le(s) champ(s) de contrôle d'un paquet.

=item B<--ctrl-tarfile> I<archive>

Produire le contenu du fichier tar de contrôle d'un paquet Debian.

=item B<--fsys-tarfile> I<archive>

Produire le contenu du fichier tar du système de fichiers d'un paquet Debian.

=item B<-I>, B<--info> I<archive> [I<fichier-de-contrôle>...]

Affiche des renseignements sur un paquet.

=back

=item B<dpkg-query actions>

Voir B<dpkg-query>(1) pour davantage d'explications sur les actions suivantes et d'autres actions et options qui ne sont pas exposées par l'interface de B<dpkg>.

=over 

=item B<-l>, B<--list> I<motif-de-nom-de-paquet>...

Afficher la liste des paquets qui correspondent au motif.

=item B<-s>, B<--status> I<nom-du-paquet>...

Donner l'état du paquet indiqué.

=item B<-L>, B<--listfiles> I<nom-du-paquet>...

Afficher la liste des fichiers installés qui appartiennent à I<paquet>.

=item B<-S>, B<--search> I<motif-de-nom-à-rechercher>...

Rechercher un fichier dans les paquets installés.

=item B<-p>, B<--print-avail> I<nom-du-paquet>...

Affiche les informations trouvées dans I<%ADMINDIR%/available> à propos de I<paquet>. Les utilisateurs des interfaces à APT devraient plutôt utiliser B<apt show> I<nom-du-paquet>.

=back

=back

=head1 OPTIONS

On peut spécifier toutes les options à la fois sur la ligne de commande, dans le fichier de configuration de B<dpkg>, I<%PKGCONFDIR%/dpkg.cfg> ou dans les fragments de fichiers du répertoire de configuration I<%PKGCONFDIR%/dpkg.cfg.d/> (avec un nom qui respecte le motif S<« [0-9a-zA-Z_-]* »).> Chaque ligne de ce fichier est soit une option (identique à une option en ligne de commande mais sans tirets initiaux), soit un commentaire, commençant par S<« B<#> ».>

=over 

=item B<--abort-after=>I<nombre>

Modifie le nombre d'erreurs au delà duquel B<dpkg> s'arrête. Il est par défaut égal à 50.

=item B<-B>, B<--auto-deconfigure>

Quand un paquet est supprimé, il peut arriver qu'un paquet installé dépendait du paquet supprimé. En spécifiant cette option, on obtient la déconfiguration automatique du paquet qui dépendait du paquet supprimé.

=item B<-D>I<octal>, B<--debug=>I<octal>

Demande de débogage. I<octal> est formé en faisant un S<« OU »> logique entre des valeurs souhaitées appartenant à la liste ci-dessous (notez que ces valeurs pourront changer dans les prochaines versions). B<-Dh> ou B<--debug=help> affiche ces valeurs de débogage.

 nombre  description
         1   Informations de progression 
             en général utiles
         2   Appel et état des scripts du responsable
        10   Affichage pour chaque fichier traité
       100   De nombreux affichages pour chaque fichier
             traité
        20   Affichage pour chaque fichier de configuration
       200   De nombreux affichages pour chaque fichier
             de configuration
        40   Dépendances et conflits
       400   De nombreuses sorties pour les dépendances
             et les conflits
     10000   Sortie sur l'activation et le traitement des actions différées
     20000   De nombreuses sorties sur les actions différées
     40000   Quantité stupide de sorties sur les actions différées
      1000   Beaucoup de radotage à propos, par exemple, du répertoire
             dpkg/info 
      2000   Quantité stupide de radotage

=item B<--force->I<quelque-chose>

=item B<--no-force->I<quelque-chose>, B<--refuse->I<quelque-chose>

Forcer ou refuser (B<no-force> et B<refuse> signifient la même chose) de faire quelque chose. I<quelque-chose> est une liste d'actions séparées par des virgules, décrites ci-après. B<--force-help> affiche un message qui les décrit. Les actions marquées d'un (*) sont forcées par défaut.

S<I<Avertissement> :> I<ces options sont principalement destinées aux experts. Un usage auquel manque la pleine compréhension de leurs effets peut casser le système entier.>

S<B<all> :> Met en œuvre (ou pas) toutes les options de forçage.

S<B<downgrade>(*) :> installer un paquet, même si une version plus récente du paquet est déjà installée.

S<I<Avertissement> :> I<pour l'instant,> B<dpkg> I<ne recherche pas les dépendances lors d'un retour à une version inférieure d'un paquet ; il ne vous préviendra pas si la version choisie casse les dépendances d'un autre paquet. Cela peut avoir de sérieuses conséquences ; et si l'on revient à des versions antérieures des programmes essentiels du système, cela peut rendre votre système inutilisable. N'utiliser qu'avec précaution.>

S<B<configure-any> :> configurer aussi les paquets dépaquetés mais non configurés dont dépend le paquet en question.

S<B<hold> :> Permettre les installations automatiques, les mises à niveau ou les retraits de paquets même s'ils sont marqués S<« à> S<garder »> S<(« hold »).> S<B<Note :>> quand ces actions sont requises de façon explicite, le statut de sélection du paquet S<« hold »> reste toujours ignoré.

S<B<remove-reinstreq> :> supprimer un paquet, même défectueux et marqué comme demandant une réinstallation. Il se peut, dès lors, que des éléments du paquet restent dans le système et soient oubliés par B<dpkg>.

S<B<remove-protected> :> supprimer un paquet même s'il est considéré comme protégé (depuis S<dpkg 1.20.1).> Les paquets B<protected> comportent essentiellement l'infrastructure importante d'amorçage du système ou sont utilisés pour des méta-paquets personnalisés personnalisés du système local. Les enlever peut rendre le système entièrement incapable de démarrer ou entraîner la perte de fonctions requises pour son fonctionnement. Il faut donc utiliser cette option avec prudence.

S<B<remove-essential> :> supprimer un paquet même s'il est considéré comme indispensable. Les paquets S<« Essential »> comportent les commandes Unix les plus fondamentales nécessaires pour le système d'empaquetage, pour le fonctionnement du système en général ou pendant l'amorçage (même si ces dernières devraient être plutôt converties en paquets protégés). Enlever ces paquets peut casser le système entier, il faut donc utiliser cette option avec prudence.

S<B<depends> :> changer tous les problèmes de dépendance en avertissements. Cela affecte les champs B<Pre-Depends> et B<Depends>.

S<B<depends-version> :> ignorer les versions dans les questions de dépendance.Cela affecte les champs B<Pre-Depends> et B<Depends>.

S<B<breaks> :> forcer l'installation, même si cela risque de casser un autre paquet (depuis S<dpkg 1.14.6).> Cela affecte le champ B<Breaks>.

S<B<conflicts> :> installer un paquet, même s'il est en conflit avec un autre paquet. C'est dangereux, car habituellement cela produit le remplacement de certains fichiers. Cela affecte le champ B<Conflicts>.

S<B<confmiss> :> toujours installer le fichier de configuration manquant sans rien demander. Cette opération est dangereuse, puisque les changements apportés au fichier ne seront pas préservés (suppression).

S<B<confnew> :> quand un fichier de configuration a été modifié et que la version dans le paquet a changé, toujours installer la nouvelle version sans rien demander, sauf si l'option B<--force-confdef> est aussi présente, auquel cas l'action par défaut est choisie.

S<B<confold> :> quand un fichier de configuration a été modifié et que la version du paquet a changé, garder l'ancienne version sans rien demander, sauf si l'option B<--force-confdef> est aussi présente, auquel cas l'action par défaut est choisie.

S<B<confdef> :> quand un fichier de configuration a été modifié et que la version du paquet a changé, utilise toujours l'action par défaut, de manière non interactive. Quand il n'y a pas d'action par défaut, la commande s'arrête et interroge l'utilisateur, à moins que l'option B<--force-confnew> ou l'option B<--force-confold> n'ait été donnée, auquel cas elle se sert de ces options pour déterminer ce qu'il faut faire.

S<B<confask> :> si un fichier de configuration a été modifié, propose de le remplacer avec la version du paquet, même si celle-ci n'a pas changé (depuis dpkg 1.15.8). Si l'une des options B<--force-confmiss>, B<--force-confnew>, B<--force-confold>, ou B<--force-confdef> est également mentionnée, elle déterminera l'action finalement utilisée.

S<B<overwrite> :> remplacer un fichier par un fichier d'un autre paquet.

S<B<overwrite-dir> :> remplacer un répertoire d'un paquet par le fichier d'un autre paquet.

S<B<overwrite-diverted> :> remplacer un fichier détourné avec une version non détournée.

S<B<statoverride-add> :> remplacer une dérogation d'état existante lors de son ajout (depuis S<dpkg 1.19.5)>

S<B<statoverride-remove> :> ignorer l'absence de dérogation d'état lors de sa suppression (depuis S<dpkg 1.19.5).>

S<B<security-mac>(*) :> utiliser une sécurité basée sur le contrôle d'accès obligatoire (Mandatory Access Controls – MAC) spécifique à la plateforme lors de l'installation de fichiers dans le systèmes de fichiers (depuis dpkg 1.19.5). Sur les systèmes Linux, la mise en œuvre utilise SELinux.

S<B<unsafe-io> :> ne pas effectuer d'action d'entrée/sortie non sûre lors de la décompression (depuis S<dpkg 1.15.8.6).> Cela implique actuellement de ne pas synchroniser le système de fichiers avant le renommage de fichiers, ce qui est une cause connue de dégradation des performances sur certains systèmes, en général ceux qui, peu fiables, ont besoin d'actions sûres pour éviter de terminer avec des fichiers de taille vide en cas d'interruption inopinée.

S<I<Note> :> pour ext4, le principal concerné, il est suggéré de plutôt utiliser l'option de montage B<nodelalloc>, qui corrigera à la fois la dégradation des performances et les problèmes de sécurité des données. Elle permet notamment d'éviter de terminer avec des fichiers vides lors des arrêts brutaux pour tout logiciel qui ne synchronise pas le système de fichiers avant chaque renommage.

S<I<Avertissement> :> I<l'utilisation de cette option peut améliorer la performance mais augmente le risque de perte de données. Elle est donc à utiliser avec précautions.>

S<B<script-chrootless> :> exécuter les scripts du responsable sans créer de B<chroot>(2) dans B<instdir> même si le paquet ne prend pas en charge ce mode d'opération (depuis S<dpkg 1.18.5).>

S<I<Avertissement> :> I<cela peut détruire le système hôte, utilisez avec des précautions extrêmes.>

S<B<architecture> :> traiter même les paquets sans architecture ou avec une architecture incorrecte.

S<B<bad-version> :> traiter même les paquets dont la version est incorrecte (depuis S<dpkg 1.16.1).>

S<B<bad-path> :> programmes importants non visibles par la variable B<PATH>, ce qui va poser des problèmes.

S<B<not-root> :> tenter de (dés)installer même sans être root.

S<B<bad-verify> :> installer un paquet même si la vérification de son authenticité a échoué.

=item B<--ignore-depends>=I<paquet>,...

Ne tient pas compte de la vérification des dépendances pour les paquets spécifiés (en fait, la vérification est faite mais ne donne rien d'autre que des avertissements). Cela affecte les champs B<Pre-Depends>, B<Depends> et B<Breaks>.

=item B<--no-act>, B<--dry-run>, B<--simulate>

Faire tout ce qui doit être fait, mais n'écrire aucune modification. On utilise cette option pour voir ce qui se passe sans modifier quoi que ce soit.

Assurez-vous de donner l'option B<--no-act> avant le paramètre action, sinon des résultats fâcheux sont probables. Par exemple, la commande B<dpkg --purge toto --no-act> purge d'abord le paquet I<toto> et essaie ensuite de purger le paquet --no-act, même si vous comptiez qu'elle ne ferait rien du tout.

=item B<-R>, B<--recursive>

Traite récursivement tous les simples fichiers qui correspondent au motif B<*.deb> et qui se trouvent dans les répertoires et sous-répertoires spécifiés. On peut utiliser cette option avec les actions B<-i>, B<-A>, B<--install>, B<--unpack> et B<--record-avail>.

=item B<-G>

Ne pas installer un paquet si une version plus récente de ce paquet est déjà installée. C'est un alias pour B<--refuse-downgrade>.

=item B<--admindir>=I<répertoire>

Fixe le répertoire d'administration à I<répertoire>. Ce répertoire contient de nombreux fichiers donnant des informations au sujet de l'état des paquets installés ou non, etc. Le répertoire par défaut est I<%ADMINDIR%> si B<DPKG_ADMINDIR> n'a pas été fixé.

=item B<--instdir=>I<répertoire>

Fixe le répertoire d'installation qui indique où les paquets vont être installés. B<instdir> est aussi le nom du répertoire indiqué à B<chroot>(2) avant que ne soient lancés les scripts d'installation, ce qui signifie que ces scripts voient B<instdir> comme répertoire racine. Le répertoire par défaut est S<« I</> ».>

=item B<--root=>I<répertoire>

Fixe le répertoire racine à I<répertoire> ce qui fixe le répertoire d'installation à S<« I<répertoire> »> et le répertoire d'administration à S<« I<répertoire>B<%ADMINDIR%> ».>

=item B<-O>, B<--selected-only>

Traiter seulement les paquets qui sont sélectionnés pour l'installation. La sélection est réellement faite par B<dselect> ou par B<dpkg> quand ils manipulent les paquets. Par exemple, quand un paquet est supprimé, il est marqué comme ayant été sélectionné pour une désinstallation.

=item B<-E>, B<--skip-same-version>

Ne pas installer le paquet si la même version et la même architecture du paquet est déjà installée.

Depuis S<dpkg 1.21.10,> l'architecture est aussi prise en compte, ce qui rend possible la mise à jour croisée de paquets ou d'installer des instances supplémentaires co-installables avec la même version, mais avec une architecture différente.

=item B<--pre-invoke=>I<commande>

=item B<--post-invoke=>I<commande>

Programme l'exécution de I<commande> à l'aide S<« sh> S<-c »> avant ou après l'exécution de B<dpkg> pour les actions I<unpack>, I<configure>, I<install>, I<triggers-only>, I<remove>, I<purge>, I<add-architecture> et I<remove-architecture> (depuis S<dpkg 1.15.4> ; les actions I<add-architecture> et I<remove-architecture> depuis S<dpkg 1.17.19).> Cette option peut être utilisée plusieurs fois. L'ordre dans lequel les options multiples sont indiquées sera préservé et celles indiquées dans le fichier de configuration auront la priorité. La variable d'environnement B<DPKG_HOOK_ACTION> est utilisée pour indiquer aux scripts utilisés quelle est l'action actuelle de B<dpkg>.

S<B<Note> :> les interfaces de B<dpkg> peuvent l'appeler plusieurs fois à chaque invocation, ce qui peut provoquer l'exécution des S<« hooks »> plus souvent que prévu.

=item B<--path-exclude=>I<motif-global>

=item B<--path-include=>I<motif-global>

Utilise I<motif-global> comme filtre de chemins, soit en excluant, soit en ré-incluant des chemins précédemment exclus, correspondant au motif indiqué, pendant l'installation (depuis S<dpkg 1.15.8).>

S<I<Attention> :> I<dépendre des chemins exclus peut entièrement casser le système. Ce réglage doit donc être utilisé avec précautions.>

Les motifs globaux utilisent les mêmes caractères joker que le shell où S<« * »> correspond à une séquence quelconque de caractères, y compris une chaîne vide ou le caractère S<« / ».> Ainsi, S<« I</usr/*/READ*> »> comportera S<« I</usr/share/doc/package/README> ».> Comme toujours, le caractère S<« ? »> correspond à un caractère quelconque (y compris S<« / »).> Le caractère S<« [ »> marque le début d'une classe de caractères, qui contient une liste de caractères, séries de caractères ou compléments de séries. Veuillez consulter B<glob>(7) pour plus d'informations à propos des correspondances globales. S<Note :> l'implémentation actuelle pourrait ré-inclure plus de répertoires et liens symboliques que nécessaire, en particulier s'il y a une ré-inclusion plus spécifique, par souci de sécurité et pour éviter des échecs possibles de décompression. Des modifications à venir pourraient corriger cela.

Cela peut servir à exclure tous les chemins sauf certains spécifiques. Un cas classique d'utilisation S<est :>

 --path-exclude=/usr/share/doc/*
 --path-include=/usr/share/doc/*/copyright

qui permet de supprimer tous les fichiers de documentation sauf les fichiers de S<« copyright ».>

Ces deux options peuvent être utilisées plusieurs fois et éventuellement être alternées entre elles. Les deux sont traitées dans l'ordre S<indiqué :> la dernière règle correspondant à un fichier donné est alors celle qui sera utilisée.

Les filtres sont appliqués lors du dépaquetage des paquets binaires et, en tant que tel, ont seulement connaissance du type des objets qui sont en cours de filtrage (par exemple un fichier ordinaire ou un répertoire) et n'ont pas de visibilité des objets à venir. Comme ces filtres ont des effets secondaires (à la différence des filtres de B<find>(1)), l'exclusion d'un chemin précis qui se trouve être un objet répertoire, comme I</usr/share/doc>, n'aura pas le résultat désiré, et seul ce chemin sera exclu (et qui pourrait être réintégré automatiquement si le code en voit la nécessité).Le dépaquetage de tous les fichiers suivants renfermés par ce répertoire échouera.

S<Astuce :> Assurez-vous que les S<« globs »> ne sont pas développés par le shell.

=item B<--verify-format> I<nom-de-format>

Définit le format de sortie de la commande B<--verify> (depuis S<dpkg 1.17.2).>

Le seul format de sortie pris en charge actuellement est B<rpm>, qui consiste en une ligne par chemin dont la vérification a échoué. Ces lignes ont le format S<suivant :>

Z<>
 B<missing  > [B<c>] I<chemin> [B<(>I<message-erreur>B<)>]
 B<??5??????> [B<c>] I<chemin>

Les neufs premier caractères sont utilisés pour rapporter le résultat des vérifications, soit un B<missing> littéral quand le fichier n'est pas présent ou quand ses métadonnées ne peuvent être obtenues, ou un des caractères spéciaux suivants qui rapportent le résultat de chacune des S<vérifications :>

=over 

=item S<« B<?> »>

implique que la vérification ne peut être réalisée (absence de prise en charge, droit d'accès de fichier, etc).

=item S<« B<.> »>

implique que la vérification est passée

=item S<« I<A-Za-z0-9> »>

implique qu'une vérification spécifique a échoué. Les positions et caractères alphanumériques suivant sont actuellement pris en S<charge :>

=over 

=item 1 S<« B<?> »>

Ces vérifications ne sont pas prise en charge actuellement, ce sera toujours S<« B<?> ».>

=item 2 S<« B<M> »>

La vérification du mode du fichier a échoué (depuis S<dpkg 1.21.0).> Parce que les métadonnées du chemin ne sont pas suivies, cette vérification n'est que partiellement émulée avec une heuristique très simple pour des chemins qui possèdent une somme de calcul connue. Cela implique que ce devrait être des fichiers simples où la vérification échoue si le chemin n'est pas un fichier simple sur le système de fichier. Cette vérification ne réussira jamais actuellement parce qu'il n'y a pas assez de données disponibles.

=item 3 S<« B<5> »>

La vérification de la somme de contrôle a échoué, ce qui signifie que le contenu du fichier a été modifié.

=item 4-9 S<« B<?> »>

Ces vérifications ne sont pas prise en charge actuellement, ce sera toujours S<« B<?> ».>

=back

=back

La ligne est suivie d'un espace et d'un caractère d'attribut. Le caractère d'attribut suivant est pris en S<charge :>

=over 

=item S<« B<c> »>

Le nom de chemin est un conffile (fichier de configuration)

=back

suivi finalement d'une autre espace et du nom de chemin.

Dans le cas où l'entrée était de type B<missing> et où le fichier n'était pas vraiment présent dans le système de fichiers, alors la ligne est suivi par une espace et le message d'erreur entre parenthèse.

=item B<--status-fd> I<n>

Envoie un état du paquet compréhensible par la machine et met à jour cette information dans le descripteur de fichier I<n>. Cette option peut être spécifiée plusieurs fois. L'information est généralement constituée d'un enregistrement par ligne, dans l'une des formes S<suivantes :>

=over 

=item B<status:> I<paquet>B<:> I<état>

L'état du paquet a changé ; l'I<état> est tel que dans le fichier d'état S<(« status> S<file »).>

=item B<status:> I<paquet> B<: S<error :>> I<message-d'erreur-complet>

Une erreur s'est produite. Les sauts de ligne éventuels dans I<message-d'erreur-complet> seront convertis en espaces avant affichage.

=item B<status:> I<fichier> B<: S<conffile-prompt :> '>I<real-old>B<'
'>I<real-new>B<'> I<useredited> I<distedited>

Une question pour un fichier de configuration va être posée à l'utilisateur.

=item B<processing:> I<phase>B<:> I<paquet>

Envoyé juste avant le début du traitement d'une phase. Les I<phases> sont B<upgrade>, B<install> (les deux sont envoyés avant le dépaquetage), B<configure>, B<trigproc>, B<disappear>, B<remove>, B<purge>.

=back

=item B<--status-logger>=I<commande>

Envoie un état du paquet compréhensible par la machine et met à jour l'information de progression sur l'entrée standard du processeur de commandes I<command>, à exécuter avec S<« sh> S<-c »> (depuis S<dpkg 1.16.0).> Cette option peut être spécifiée plusieurs fois. Le format d'affichage utilisé est le même que celui de B<--status-fd.>

=item B<--log=>I<fichier>

Enregistre les mises à jour et actions des changements d'état dans I<fichier> plutôt que dans le I<%LOGDIR%/dpkg.log> par défaut. Si l'option est passée plusieurs fois, le dernier nom de fichier est utilisé. Les messages du journal ont cette S<forme :>

=over 

=item AAAA-MM-JJ HH:MM:SS B<startup> I<type> I<commande>

Pour chaque invocation de dpkg où I<type> est B<archives> (avec une I<commande> B<unpack> ou B<install>) ou B<packages> (avec une I<commande> B<configure>, B<triggers-only>, B<remove> ou B<purge>).

=item AAAA-MM-JJ HH:MM:SS B<status> I<état> I<paquet> I<version-installée>

Pour les mises à jour des changements d'état.

=item AAAA-MM-JJ HH:MM:SS B<action> I<paquet> I<version-installée>
I<version-disponible>

Pour les actions où I<action> est B<install>, B<upgrade>, B<configure>, B<trigproc>, B<disappear>, B<remove> ou B<purge>.

=item AAAA-MM-JJ HH:MM:SS B<conffile> I<fichier> I<décision>

Pour les changements du fichier de configuration où I<décision> est B<install> ou B<keep>.

=back

=item B<--robot>

Utiliser un format de sortie lisible par la machine. Cela fournit une interface pour les programmes qui doivent analyser la sortie de certaines des commandes qui sinon nne produisent pas un format de sortie lisible par une machine. Aucune traduction ne sera utilisée et la sortie sera modifiée pour la rendre plus facile à analyser.

La seule commande prise en charge actuellement est B<--version>.

=item B<--no-pager>

Désactive l'utilisation d'un afficheur pour montrer les informations (depuis dpkg 1.19.2).

=item B<--no-debsig>

Ne pas tenter de vérifier la signature des paquets.

=item B<--no-triggers>

Durant ce traitement, ne pas lancer d'actions différées (depuis dpkg 1.14.17), mais les activations seront toujours enregistrées. S'il est utilisé avec B<--configure> I<paquet> ou B<--triggers-only> I<paquet> alors le postinst du paquet sera toujours exécuté même si seule l'exécution d'une action différée est nécessaire. L'utilisation de cette option peut laisser des paquets dans les mauvais états B<triggers-awaited> et B<triggers-pending>. Cela peut être corrigé plus tard en exécutant B<dpkg --configure --pending>.

=item B<--triggers>

Annule un précédent B<--no-triggers> (depuis S<dpkg 1.14.17).>

=back

=head1 CODE DE SORTIE

=over 

=item B<0>

L'action demandée s'est correctement déroulée. Ou bien une commande de vérification ou de déclaration renvoie S<« true ».>

=item B<1>

Une commande de vérification ou de déclaration renvoie S<« false ».>

=item B<2>

Erreur fatale ou irrécupérable due à l'utilisation d'une ligne de commande non valable, ou interactions avec le système, telles que des accès à la base de données, des allocations de mémoire, etc.

=back

=head1 ENVIRONNEMENT

=head2 Environnement externe

=over 

=item B<PATH>

Cette variable devrait être définie dans l'environnement et pointer vers les chemins du système où plusieurs programmes requis devraient se trouver. Si la variable n'est pas définie ou si les programmes ne sont pas trouvés, B<dpkg> s'arrête.

=item B<HOME>

Si cette option est utilisée, B<dpkg> utilisera le répertoire indiqué pour lire le fichier de configuration propre à l'utilisateur.

=item B<TMPDIR>

Si cette option est utilisée, B<dpkg> utilisera le répertoire indiqué pour créer les fichiers et répertoires temporaires.

=item B<SHELL>

Le programme exécuté par B<dpkg> quand il lance un nouvel interpréteur de commandes interactif ou lance une commande avec le shell.

=item B<PAGER>

=item B<DPKG_PAGER>

Le programme exécuté par B<dpkg> quand il utilise un afficheur, qui sera exécuté avec S<« B<$SHELL> S<-c> »,> par exemple lorsqu'il affiche des différences de fichiers de configuration. Si B<SHELL> n'est pas défini, B<sh> sera utilisé à la place. Le B<DPKG_PAGER> se substitue à la variable d'environnement B<PAGER> (depuis S<dpkg 1.19.2).>

=item B<DPKG_COLORS>

Définit le mode de couleur (depuis S<dpkg 1.18.5).> Les valeurs actuellement acceptées sont B<auto> (par défaut), B<always> et B<never>.

=item B<DPKG_DEBUG>

Définit le masque de débogage (depuis S<dpkg 1.21.10)> à partir d'une valeur octale. Actuellement, les drapeaux acceptés sont décrits dans l'option B<dpkg --debug>.

=item B<DPKG_FORCE>

Définit les drapeaux de forçage (depuis S<dpkg 1.19.5).> Quand cette variable est présente, aucune des options internes de forçage par défaut ne sera appliquée. Si la variable est présente mais vide, tous les drapeaux de forçage seront désactivés.

=item B<DPKG_ADMINDIR>

Si cette variable est positionnée et que les options B<--admindir> ou B<--root> ne sont pas précisées, ce répertoire sera utilisé comme répertoire de données pour B<dpkg> (depuis S<dpkg 1.20.0).>

=item B<DPKG_FRONTEND_LOCKED>

Définie par une interface de gestion de paquets pour notifier à dpkg qu'il ne devrait pas obtenir le verrou d'interface (depuis S<dpkg 1.19.1).>

=back

=head2 Environnement interne

=over 

=item B<LESS>

Définie par B<dpkg> à S<« B<-FRSXMQ> »,> si ce n'est pas déjà configuré, lors du lancement d'un afficheur (depuis S<dpkg 1.19.2).> Pour modifier le comportement par défaut, cette variable peut être configurée à une autre valeur y compris une chaîne vide ; alternativement, les variables B<PAGER> ou B<DPKG_PAGER> peuvent être réglées pour désactiver des options particulières avec S<« B<-+> »,> par exemple B<DPKG_PAGER="less -+F">.

=item B<DPKG_ROOT>

Définie par B<dpkg> dans l'environnement du script du responsable pour indiquer quelle installation activer (depuis S<dpkg 1.18.5).> La valeur est destinée à être ajoutée avant n'importe quel chemin sur lequel les scripts du responsable agissent. Pendant une opération normale, cette variable est vide. Lors de l'installation de paquets dans un B<instdir> différent, B<dpkg> invoque normalement les scripts du responsable avec B<chroot>(2) et laisse cette variable vide, mais si B<--force-script-chrootless> est indiqué, alors, l'appel de B<chroot>(2) est ignoré et B<instdir> n'est pas vide.

=item B<DPKG_ADMINDIR>

Définie par B<dpkg> dans l'environnement du script du responsable, pour indiquer le répertoire d'administration à utiliser (depuis S<dpkg 1.16.0).> Cette variable est toujours fixée à la valeur actuelle de B<--admindir>.

=item B<DPKG_FORCE>

Définie par B<dpkg> dans l'environnement du sous-processus pour tous les noms d'options de forçage actuellement activées séparés par des virgules (depuis S<dpkg 1.19.5).>

=item B<DPKG_SHELL_REASON>

Cette variable est définie pour le shell lancé par B<dpkg> lorsqu'il lui est demandé d'analyser la situation lors du traitement des fichiers de configuration (depuis S<dpkg 1.15.6).> La valeur actuellement valable S<est :> B<conffile-prompt>.

=item B<DPKG_CONFFILE_OLD>

Cette variable est définie pour le shell lancé par B<dpkg> lorsqu'il lui est demandé d'analyser la situation lors du traitement des fichiers de configuration (depuis S<dpkg 1.15.6).> Elle contient le chemin de l'ancien fichier de configuration.

=item B<DPKG_CONFFILE_NEW>

Cette variable est définie pour le shell lancé par B<dpkg> lorsqu'il lui est demandé d'analyser la situation lors du traitement des fichiers de configuration (depuis S<dpkg 1.15.6).> Elle contient le chemin du nouveau fichier de configuration.

=item B<DPKG_HOOK_ACTION>

Cette variable est définie par B<dpkg> pour le shell lancé lors de l'exécution d'une action de point d'entrée (depuis S<dpkg 1.15.4).> Elle contient l'action actuelle de B<dpkg>.

=item B<DPKG_RUNNING_VERSION>

Cette variable est définie par B<dpkg> dans l'environnement du script du responsable. Elle contient la version de l'instance de B<dpkg> en cours d'exécution (depuis S<dpkg 1.14.17).>

=item B<DPKG_MAINTSCRIPT_PACKAGE>

Définie par B<dpkg> dans l'environnement du script du responsable, cette variable contient le nom du paquet (sans qualification d'architecture) en cours de traitement (depuis S<dpkg 1.14.17).>

=item B<DPKG_MAINTSCRIPT_PACKAGE_REFCOUNT>

Définie par B<dpkg> dans l'environnement du script du responsable, cette variable contient le compte de référence du paquet, c'est-à-dire le nombre d'instances de paquet avec un état plus élevé que B<not-installed> (depuis dpkg 1.17.2).

=item B<DPKG_MAINTSCRIPT_ARCH>

Définie par B<dpkg> dans l'environnement du script du responsable, cette variable contient l'architecture pour laquelle le paquet a été construit (depuis S<dpkg 1.15.4).>

=item B<DPKG_MAINTSCRIPT_NAME>

Définie par B<dpkg> dans l'environnement du script du responsable, cette variable contient le nom du script en cours d'exécution, B<preinst>, B<postinst>, B<prerm> ou B<postrm> (depuis S<dpkg 1.15.7).>

=item B<DPKG_MAINTSCRIPT_DEBUG>

Cette variable est définie par B<dpkg> dans l'environnement du script du responsable à une valeur S<(« B<0> »> ou S<« B<1> »)> notant si le débogage a été demandé (avec l'option B<--debug>) pour les scripts du responsable (depuis dpkg 1.18.4).

=back

=head1 FICHIERS

=over 

=item I<%PKGCONFDIR%/dpkg.cfg.d/[0-9a-zA-Z_-]*>

Fragments de fichiers de configuration (depuis S<dpkg 1.15.4).>

=item I<%PKGCONFDIR%/dpkg.cfg>

Fichier de configuration contenant les options par défaut.

=item I<%LOGDIR%/dpkg.log>

Fichier journal standard. Voyez I<%PKGCONFDIR%/dpkg.cfg> et l'option B<--log>.

=back

Les autres fichiers répertoriés ici sont dans leur répertoire par défaut, voyez l'option B<--admindir> pour savoir comment changer l'emplacement de ces fichiers.

=over 

=item I<%ADMINDIR%/available>

Liste des paquets disponibles.

=item I<%ADMINDIR%/status>

États des paquets disponibles. Ce fichier contient des informations qui permettent de savoir si un paquet est marqué comme devant être supprimé ou pas, devant être installé ou pas, etc. Voyez la section B<RENSEIGNEMENTS SUR LES PAQUETS> pour des informations supplémentaires.

Le fichier d'état est sauvegardé quotidiennement dans I<%BACKUPSDIR%>. Cela peut être utile en cas de perte ou de corruption due à des problèmes de système de fichiers.

=back

Le format et le contenu d'un paquet binaire sont décrits dans B<deb>(5).

=head1 BOGUES

L'option B<--no-act> ne donne pas assez d'informations utiles.

=head1 EXEMPLES

Affichage des paquets installés liés à l'éditeur B<vi>(1) (noter que B<dpkg-query> ne charge plus le fichier I<available> par défaut, sauf si l'option B<dpkg-query> B<--load-avail> est S<utilisée) :>

=over 

 dpkg -l '*vi*'

=back

Pour voir les entrées de I<%ADMINDIR%/available> concernant deux S<paquets :>

=over 

 dpkg --print-avail elvis vim | less

=back

Pour rechercher vous-même dans la liste des S<paquets :>

=over 

 less %ADMINDIR%/available

=back

Pour supprimer le paquet installé S<elvis :>

=over 

 dpkg -r elvis

=back

Pour installer un paquet, vous devez d'abord le trouver dans une archive ou sur un CD. Le fichier I<available> montre que le paquet vim se trouve dans la section S<« B<editors> » :>

=over 

 cd /media/cdrom/pool/main/v/vim
 dpkg -i vim_4.5-3.deb

=back

Pour faire une copie locale des états de sélection des S<paquets :>

=over 

 dpkg --get-selections> mes-sélections

=back

Vous pourriez transférer ce fichier sur un autre ordinateur, et après avoir mis à jour le fichier I<available> avec l'interface de gestion de paquets de votre choix (voir L<https://wiki.debian.org/Teams/Dpkg/FAQ#set-selections> pour plus de détails), par S<exemple :>

=over 

 apt-cache dumpavail | dpkg --merge-avail

=back

ou avec dpkg 1.17.6 et les versions S<antérieures :>

=over 

 avail=$(mktemp)
 apt-cache dumpavail> "$avail"
 dpkg --merge-avail "$avail"
 rm "$avail"

=back

vous pouvez l'installer de cette S<manière :>

=over 

 dpkg --clear-selections
 dpkg --set-selections <mes-sélections

=back

On remarquera que cela n'installe ou ne supprime rien du tout ; cela ne fait qu'enregistrer l'état souhaité des paquets. Vous aurez besoin d'autres applications pour récupérer et installer réellement les paquets requis. Par exemple, exécuter B<apt-get dselect-upgrade>.

Habituellement, vous trouverez que B<dselect>(1) fournit une façon plus aisée de modifier les états de sélection des paquets.

=head1 FONCTIONNALITÉS SUPPLÉMENTAIRES

D'autres possibilités sont offertes en installant les paquets S<suivants :> B<apt>, B<aptitude> et B<debsums>.

=head1 VOIR AUSSI

B<aptitude>(8), B<apt>(8), B<dselect>(1), B<dpkg-deb>(1), B<dpkg-query>(1), B<deb>(5), B<deb-control>(5), B<dpkg.cfg>(5) et B<dpkg-reconfigure>(8).

=head1 AUTEURS

Consultez I<%PKGDOCDIR%/THANKS> pour la liste de ceux qui ont contribué à B<dpkg>.


=head1 TRADUCTION

Ariel VARDI <ariel.vardi@freesbee.fr>, 2002.
Philippe Batailler, 2006.
Nicolas François, 2006.
Veuillez signaler toute erreur à <debian-l10n-french@lists.debian.org>.
